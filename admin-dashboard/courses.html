<!DOCTYPE html>
<html lang="en">
    <head>
         <title>A.R.T.S | Training Services</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
     <meta name="description" content="">

    <link rel="icon" type="image/png" href="img/logo-icon.png">
    <link rel="stylesheet" href="css/owl.carousel.css"/>
    <link rel="stylesheet" href="css/animate.min.css"/>
    <link rel="stylesheet" href="css/aos.css"/>
    <link rel="stylesheet" href="css/font-awesome.min.css"/>
    <link rel="stylesheet" href="css/themify-icons.css"/>
    <link rel="stylesheet" href="css/loader.css"/>
    <link rel="stylesheet" href="css/simple-line-icons.css">
    <link rel="stylesheet" href="css/include.css">
    <link rel="stylesheet" href="css/dashboard.css"/>



      <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@400;500;600;700;800&display=swap" rel="stylesheet">

</head>
<body>

<section class="upload-Sec courses-Box">
        <div class="upload-Box">
            <div class="upload-Box-header">
                <h3>Add course</h3>
                <span class="Close-Upload-Box"><i class="ti-close"></i></span>
            </div>
            <div class="upload-Box-body">
                <form>
                    <div class="input-Div">
                        <p>Course category</p>
                        <select id="selectCategory">
                            <option>Select course category</option>
                            <!-- <option>Health</option>
                            <option>ICT</option> -->
                        </select>
                    </div>
                    <div class="input-Div">
                        <p>Course title</p>
                        <input id="course-title" type="text" name="" placeholder="Enter course title">
                    </div>

                     <div class="input-Div">
                        <p>Course description</p>
                        <textarea  id="course-description" placeholder="Enter course description"></textarea>
                    </div>
                    <div class="Dd-Flex">
                        <div class="input-Div">
                        <p>Course instructor</p>
                        <select id="selectInstructor">
                            <option>Select course instructor</option>
                            <!-- <option>Prince Godson</option>
                            <option>Daniel Eke</option> -->
                        </select>
                    </div>
                    <div class="input-Div">
                        <p>Price</p>
                        <input  id="course-price" type="text" name="" placeholder="Enter course price (€)">
                    </div>
                </div>
                      <div class="input-Div">
                        <p>Course duration</p>
                        <input id="course-duration" type="text" name="" placeholder="Enter course duration">
                    </div>


                      <div class="input-Div">
                        <p>Lesson days</p>
                        <select id="selctionSchedule">
                            <option>Select lesson days</option>
                            <option>1 day</option>
                            <option>2 day</option>
                            <option>3 day</option>
                            <option>4 day</option>
                            <option>5 day</option>
                            <option>6 day</option>
                        </select>
                    </div>

                    <div class="input-Div">
                          <div class="schedule-dlt-main">
                <ul>
                  <li>
                    <h4>Day 1</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>

                     <li>
                    <h4>Day 2</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>

                   <li>
                    <h4>Day 3</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>


                   <li>
                    <h4>Day 4</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>


                   <li>
                    <h4>Day 5</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>


                   <li>
                    <h4>Day 6</h4>
                    <div class="hak">
                      <div class="hak-dlt">
                        <p>Date</p>
                        <input type="date" name="" class="hak-dlt-input">
                      </div>
                       <div class="hak-dlt">
                        <p>Time</p>
                        <input type="time" name="" class="hak-dlt-input">
                      </div>
                  </div>
                  </li>
              </div>
                    </div>

                    <div class="Submit-Div">
                        <input type="submit" name="" value="Submit">
                    </div>
                </form>
            </div>
        </div>
    </section>






    <section class="site-content">
        <div class="nav-sec">
            <div class="nav-sec-main Box-Show">

                <div class="top-side-nav">
                    <i class="icon-menu"></i>
                    <span>Menu</span>
                 </div>
                  <div class="m-search-Sec">
                            <button>
                                <img src="svg/search.svg">
                            </button>
                            <input type="text" name="" placeholder="Search..">
                    </div>

                     <div class="side-nav-Icon">

                         <ul>
                             <li>
                                <a href="dashboard.html"><i class="icon-speedometer"></i> <span>Dashboard</a>
                                </li>

                             <li class="active-sideIcon">
                                <a href="courses.html"><i class="icon-layers"></i> <span>Courses</span></a>
                            </li>


                              <li><a href="enrolled-courses.html"><i class="icon-book-open"></i> <span>Enrolled courses</span> </a></li>

                              <li><a href="instructors.html"><i class="icon-badge"></i> <span>Instructors</span> </a></li>

                               <li><a href="users.html"><i class="icon-people"></i> <span>Users</span> </a></li>


                              <li><a href="profile.html"><i class="icon-user"></i> <span>Profile settings</span> </a></li>


                             <li><a href="#"><i class="icon-logout"></i> <span>Logout</span></a></li>

                         </ul>
                     </div>



            </div>
        </div><!--nav-sec-->
        <div class="main-section">
            <div class="main-sectionMain">
                <div class="nav-body"></div>
            <nav class="main-topNav Box-Show">
                <div class="main-sectionMain-0">
                <div class="site-container">
                    <div class="nanAv-1">
                         <div class="nav-togller">
                            <i class="ti-menu"></i>
                            <span>
                                <svg height="14" viewBox="0 0 16 16" width="18" xmlns="http://www.w3.org/2000/svg" aria-label="close" class="" name="close"><path d="M8.95 8l5.853-5.854a.671.671 0 1 0-.95-.95L8 7.05 2.146 1.198a.671.671 0 1 0-.95.95L7.05 8l-5.852 5.853a.671.671 0 0 0 .948.95L8 8.948l5.854 5.854a.671.671 0 1 0 .948-.95L8.95 8z" fill="#151A1E" fill-rule="nonzero" stroke="#151A1E"></path></svg>
                            </span>
                        </div>
                        <a href="../index.html" class="nv-logo"><img src="img/logo.png"></a>
                        <div class="search-Sec">
                            <button>
                                <img src="svg/search.svg">
                            </button>
                            <input type="text" name="" placeholder="Search..">
                    </div>
                    </div>
                    <div class="nanAv-2">
                        <ul class="nanAv-2-icons">
                            <li>
                                <a href="../index.html"><span class="homa-ye">Home</span><i class="icon-home"></i></a>
                            </li>


                            <li><a href="profile.html"><span class="accnt-ion">Profile</span> <span class="user-imgSpan"><img src="img/user-img.jpg"></span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            </nav>



            <div class="dashboard-sec">
                <div class="main-Dash-sec">
                <div class="site-container">


                    <div class="affiliate-Sec Box-Show">
                       <div class="hello-intro">
                              <h1>Courses</h1>
                                    <ul>
                                      <li>A.R.T.S</li>
                                      <li>Admin</li>
                                      <li class="active-li">Courses</li>
                                    </ul>
                               </div>


                               
                            <div class="p-Main-t">
                                <ul>
                                    <li class="active-ppt"><a href="#">All</a></li>
                                    <li><a href="#">Most Recent</a></li>
                                    <li><a href="#">Old</a></li>
                                </ul>
                                <div class="p-Main-tt">
                                <p>Search</p>
                                <div class="p-Main-t-search">
                                    <input type="text" name="" placeholder="Courses"/>
                                    <button><img src="svg/search1.svg"></button>
                                </div>
                            </div>
                            </div>



                    </div><!--affiliate-Sec-->



                        <div class="affiliate-Sec Box-Show">
                       <div class="top-das-1-header">
                            <h3>List of Courses</h3>
                            <button class="courses-Btn"><i class="fa fa-plus"></i> add course</button>
                        </div>

                        <div class="Sec-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>S/N</th>
                                        <th>Category</th>
                                        <th>Course title</th>
                                        <th>Instructor</th>
                                        <th>Price</th>
                                        <th>Duration</th>
                                        <th>Lesson days</th>
                                        <th>Enrolled users</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>

                                       <!-- <tr> -->
                                        <!-- <td>1</td>
                                        <td>Health</td>
                                        <td>Introcution to health and safety management</td>
                                         <td>
                                            <div class="instruc-dlt-main">
                                          <div class="instruc-profl">
                                               <div class="instruc-profl-grid">
                                            <div class="profl-img">
                                              <div class="profl-img-main">
                                                <img src="img/staffs/1.jpg">
                                              <span class="online"></span>
                                            </div>
                                              
                                            </div>
                                            <div class="profl-dlts">
                                              <p>Ndubuisi Prince Godson</p>
                                            </div>
                                          </div>
                                        </div>
                                        </td>
                                        <td> € 400</td>
                                        <td>1hr 20mins 30sec</td>
                                        <td>3 days</td>
                                        <td>0</td>
                                        <td>
                                            <div class="action-btns">
                                                <a href="javascript:void(0);" style="background:#6FD96F !important;" class="courses-Btn"><i class="icon-user"></i> Edit</a>
                                                <button><i class="ti-close"></i>  Remove</button>
                                            </div>
                                        </td>
                                    </tr> -->

                                    
                                    
                                </tbody>
                            </table>
                        </div>

                        

                    </div><!--affiliate-Sec-->


                
      

                </div>

            </div><!--main-Dash-sec-->
                   <footer class="site-footer Box-Show">
                    <div class="site-container">
                   <p>© <script>document.write(new Date().getFullYear())</script> A.R.T.S</p>
               </div>
           </footer>
            </div>





















        </div>
        </div><!--main-section-->
    </section><!--site-content-->


   <script src="js/jquery-3.3.1.min.js"></script>
   <script src="js/owl.carousel.min.js"></script>
   <script src="js/aos.js"></script>
    <script src="js/loader.js"></script>
     <script src="js/main.js"></script>
         <script src='js/chart.js'></script>
    <script src="js/chat-canvas.js"></script>
    <script>

//COURSES
        // Fetch data from the Category API endpoint // Fetch data from the Instructors API endpoint
        fetch('https://new-arts-api.onrender.com/course/instructors/')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // Get the select element
                const selectElement = document.querySelector('#selectInstructor');

                // Loop through the categories and create options
                data.forEach(instructor => {
                    const optionElement = document.createElement('option');
                    optionElement.textContent = `${instructor.instructor_last_name} ${instructor.instructor_id}` ; // Use category name as option text
                    optionElement.value = instructor.id; // Optionally, set the value of each option
                    selectElement.appendChild(optionElement);
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
                        // Fetch categories
            fetch('https://new-arts-api.onrender.com/course/categories/')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                const selectElement = document.querySelector('#selectCategory');
                data.forEach(category => {
                    const optionElement = document.createElement('option');
                    optionElement.textContent = category.name;
                    optionElement.value = category.id;
                    selectElement.appendChild(optionElement);
                });
            })
            .catch(error => {
                console.error('Error fetching categories:', error);
            });

            // Handle form submission
            document.getElementById('submit-course').addEventListener('click', function(event) {
            event.preventDefault();

            // Get form data
            const category = document.querySelector('#selectCategory').value;
            const instructor = document.querySelector('#selectInstructor').value;
            const course_description = document.getElementById('course-description').value;
            const course_title = document.getElementById('course-title').value;
            const course_price = document.getElementById('course-price').value;
            const course_duration = document.getElementById('course-duration').value;

            const formData = new FormData();
            formData.append('category', category);
            formData.append('title', course_title);
            formData.append('details', course_description);
            formData.append('amount', course_price);
            formData.append('duration', course_duration);
            formData.append('instructor', instructor);

            // Send POST request using fetch API
            fetch('https://new-arts-api.onrender.com/course/', {
                method: 'POST',
                body: formData,
            })
            .then(response => {
                if (response.ok) {
                    document.getElementById('submit-course').textContent = "Submit";
                    window.location.href = "courses.html";
                } else {
                    throw new Error('Failed to create Course');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while creating the Course.');
                document.getElementById('submit-course').textContent = "Submit";
            });
            });

    // Add event listener to the select element
    document.querySelector('#selctionSchedule').addEventListener('change', function(event) {
        // Get the selected category value
        const selectedCategory = event.target.value;

        // Get all list items under the schedule
        const scheduleItems = document.querySelectorAll('.schedule-dlt-main ul li');

        // Hide all schedule items
        scheduleItems.forEach(item => {
            item.style.display = 'none';
        });

        // Show the specific schedule items based on the selected category
        if (selectedCategory === '1') {
            // Show items for option 1
            scheduleItems[0].style.display = 'block'; // Show Day 1
        } else if (selectedCategory === '2') {
            // Show items for option 2
            scheduleItems[0].style.display = 'block'; // Show Day 1
            scheduleItems[1].style.display = 'block'; // Show Day 2
            // You can add more conditions for other options as needed
        } else if (selectedCategory === '3') {
            // Show items for option 3
            scheduleItems[0].style.display = 'block'; // Show Day 1
            scheduleItems[1].style.display = 'block'; // Show Day 2
            scheduleItems[2].style.display = 'block'; // Show Day 2
            // You can add more conditions for other options as needed
        } else if (selectedCategory === '4') {
            // Show items for option 4
            scheduleItems[0].style.display = 'block'; // Show Day 1
            scheduleItems[1].style.display = 'block'; // Show Day 2
            scheduleItems[2].style.display = 'block'; // Show Day 2
            scheduleItems[3].style.display = 'block'; // Show Day 2
            // You can add more conditions for other options as needed
        } else if (selectedCategory === '5') {
            // Show items for option 5
            scheduleItems[0].style.display = 'block'; // Show Day 1
            scheduleItems[1].style.display = 'block'; // Show Day 2
            scheduleItems[2].style.display = 'block'; // Show Day 2
            scheduleItems[3].style.display = 'block'; // Show Day 2
            scheduleItems[4].style.display = 'block'; // Show Day 2
            // You can add more conditions for other options as needed
        } else if (selectedCategory === '6') {
            // Show items for option 6
            scheduleItems[0].style.display = 'block'; // Show Day 1
            scheduleItems[1].style.display = 'block'; // Show Day 2
            scheduleItems[2].style.display = 'block'; // Show Day 2
            scheduleItems[3].style.display = 'block'; // Show Day 2
            scheduleItems[5].style.display = 'block'; // Show Day 2
            scheduleItems[6].style.display = 'block'; // Show Day 2
        }
    });

    // Initialize an object to store the schedule data
const scheduleData = {
    day1: {},
    day2: {},
    day3: {},
    day4: {},
    day5: {},
    day6: {}
};

    // Add event listeners to date and time inputs for each day
    document.querySelectorAll('.hak-dlt-input').forEach((input, index) => {
        input.addEventListener('change', function(event) {
            // Get the day number from the input's parent li index
            const dayNumber = index + 1;
            
            // Get the type of input (date or time)
            const inputType = input.getAttribute('type');
            
            // Store the value in the scheduleData object
            scheduleData[`day${dayNumber}`][inputType] = event.target.value;
            
            console.log(scheduleData);
        });
    });

    </script>

    <script>

        // Send a GET request to the endpoint

        // Fetch category information// Fetch category information and update the image
fetch('https://new-arts-api.onrender.com/course/')
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {
    // Select the table body element where you want to append the data
    const tableBody = document.querySelector('tbody');

    // Iterate over the data and create table rows
    data.forEach(course => {
      // Fetch category information
      fetch(`https://new-arts-api.onrender.com/course/categories/${course.category}/`)
        .then(response => {
          if (!response.ok) {
            throw new Error('Failed to fetch category information');
          }
          return response.json();
        })
        .then(categoryData => {
          // Extract the image URL from the category data
          const categoryImageURL = categoryData.image;
          console.log(categoryData.name)
          console.log(categoryImageURL)

          // Create a new table row
          const newRow = document.createElement('tr');

          // Fill the table row with course data
          newRow.innerHTML = `
            <td>${course.id}</td>
            <td>${categoryData.name}</td>
            <td>${course.title}</td>
            <td>
              <div class="instruc-dlt-main">
                <div class="instruc-profl">
                  <div class="instruc-profl-grid">
                    <div class="profl-img">
                      <div class="profl-img-main">
                        <img src="https://new-arts-api.onrender.com/${categoryImageURL}"" alt="${categoryData.name}">
                        <span class="online"></span>
                      </div>
                    </div>
                    <div class="profl-dlts">
                      <p>${course.title}</p>
                    </div>
                  </div>
                </div>
              </div>
            </td>
            <td>${course.amount}</td>
            <td>${course.duration} hours</td>
            <td>${course.duration} days</td>
            <td>${course.number_of_students !== null ? course.number_of_students : 0}</td>
            <td>
              <div class="action-btns">
                <a href="javascript:void(0);" style="background:#6FD96F !important;" class="courses-Btn"><i class="icon-user"></i> Edit</a>
                <button><i class="ti-close"></i>  Remove</button>
              </div>
            </td>
          `;

          // Append the new row to the table body
          tableBody.appendChild(newRow);
        })
        .catch(error => {
          console.error('Error fetching category information:', error);
        });
    });
  })
  .catch(error => {
    console.error('Error fetching data:', error);
  });


    </script>

   </body>
   </html>